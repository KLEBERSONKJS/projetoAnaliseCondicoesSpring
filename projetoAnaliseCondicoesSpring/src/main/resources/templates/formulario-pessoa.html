<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Pessoa</title>
</head>

<body>
<h1>Cadastro de Pessoa</h1>

<!-- Formulário -->
<form id="formCadastro">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" required><br><br>

    <label for="idade">Idade:</label>
    <input type="number" id="idade" name="idade" required><br><br>

    <label for="genero">Gênero:</label>
    <select id="genero" name="genero">
        <option value="MASCULINO">Masculino</option>
        <option value="FEMININO">Feminino</option>
        <option value="OUTRO">Outro</option>
    </select><br><br>

    <label for="raca">Raça:</label>
    <select id="raca" name="raca">
        <option value="BRANCO">Branco</option>
        <option value="POVOSORIGINARIOS">Povos Originários</option>
        <option value="PARDO">Pardo</option>
        <option value="PRETO">Preto</option>
    </select><br><br>

    <button type="submit">Cadastrar</button>
</form>

<script>
    // Adiciona um evento ao formulário para capturar o envio
    document.getElementById('formCadastro').addEventListener('submit', function (event) {
        event.preventDefault(); // Impede o envio padrão do formulário

        // Captura os dados do formulário
        const pessoaData = {
            nome: document.getElementById('nome').value,
            idade: document.getElementById('idade').value,
            genero: document.getElementById('genero').value,
            raca: document.getElementById('raca').value
        };

        // Envia os dados usando fetch
        fetch('http://localhost:8080/cadastrar', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(pessoaData), // objeto pessoa a ser enviado no corpo

        })
            .then(response => response.text())
            .then(data => console.log(window.alert(data)))
            .catch(error => console.error('Erro ao cadastrar pessoa:', error));

    });
</script>
</body>

</html>